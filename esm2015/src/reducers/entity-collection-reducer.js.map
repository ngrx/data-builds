{"version":3,"file":"entity-collection-reducer.js","sourceRoot":"ng://@ngrx/data/","sources":["src/reducers/entity-collection-reducer.ts"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAI3C,OAAO,EAAE,qCAAqC,EAAE,MAAM,qCAAqC,CAAC;;;;AAS5F,MAAM,OAAO,8BAA8B;;;;IACzC,YAAoB,cAAqD;QAArD,mBAAc,GAAd,cAAc,CAAuC;IAAG,CAAC;;;;;;;IAG7E,MAAM,CAAU,UAAkB;;cAC1B,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAI,UAAU,CAAC;QAEzD,gFAAgF;QAChF;;;;;QAAO,SAAS,uBAAuB,CACrC,UAA+B,EAC/B,MAAoB;;kBAEd,aAAa,GAAG,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;YACtD,OAAO,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;QACxE,CAAC,EAAC;IACJ,CAAC;;;YAhBF,UAAU;;;;YARF,qCAAqC;;;;;;;IAUhC,wDAA6D","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { EntityAction } from '../actions/entity-action';\nimport { EntityCollection } from './entity-collection';\nimport { EntityCollectionReducerMethodsFactory } from './entity-collection-reducer-methods';\n\nexport type EntityCollectionReducer<T = any> = (\n  collection: EntityCollection<T>,\n  action: EntityAction\n) => EntityCollection<T>;\n\n/** Create a default reducer for a specific entity collection */\n@Injectable()\nexport class EntityCollectionReducerFactory {\n  constructor(private methodsFactory: EntityCollectionReducerMethodsFactory) {}\n\n  /** Create a default reducer for a collection of entities of T */\n  create<T = any>(entityName: string): EntityCollectionReducer<T> {\n    const methods = this.methodsFactory.create<T>(entityName);\n\n    /** Perform Actions against a particular entity collection in the EntityCache */\n    return function entityCollectionReducer(\n      collection: EntityCollection<T>,\n      action: EntityAction\n    ): EntityCollection<T> {\n      const reducerMethod = methods[action.payload.entityOp];\n      return reducerMethod ? reducerMethod(collection, action) : collection;\n    };\n  }\n}\n"]}