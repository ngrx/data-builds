{"version":3,"file":"entity-dispatcher.js","sourceRoot":"ng://@ngrx/data/","sources":["src/dispatchers/entity-dispatcher.ts"],"names":[],"mappings":";;;;;;;;;;;AAaA,sCAsDC;;;;;;IApDC,sCAA4B;;;;;IAK5B,iCAAqC;;;;;IAGrC,oCAAiC;;;;;IAGjC,iCAAmC;;;;;;;;;IASnC,iFAImB;;;;;;;;;;IAUnB,gFAImB;;;;;;IAOnB,4DAAiC;;;;;;;IAMjC,4DAAwC;;;;;AAM1C;;;;IACE,6BAA4B,OAAgB;QAAhB,YAAO,GAAP,OAAO,CAAS;QAC1C,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,kBAAkB,CAAC;IAC/C,CAAC;IACH,0BAAC;AAAD,CAAC,AAJD,IAIC;;;;;;;IAHa,sCAAgC","sourcesContent":["import { Action, Store } from '@ngrx/store';\nimport { IdSelector, Update } from '@ngrx/entity';\n\nimport { EntityAction, EntityActionOptions } from '../actions/entity-action';\nimport { EntityActionGuard } from '../actions/entity-action-guard';\nimport { EntityCommands } from './entity-commands';\nimport { EntityCache } from '../reducers/entity-cache';\nimport { EntityOp } from '../actions/entity-op';\n\n/**\n * Dispatches EntityCollection actions to their reducers and effects.\n * The substance of the interface is in EntityCommands.\n */\nexport interface EntityDispatcher<T> extends EntityCommands<T> {\n  /** Name of the entity type */\n  readonly entityName: string;\n\n  /**\n   * Utility class with methods to validate EntityAction payloads.\n   */\n  readonly guard: EntityActionGuard<T>;\n\n  /** Returns the primary key (id) of this entity */\n  readonly selectId: IdSelector<T>;\n\n  /** Returns the store, scoped to the EntityCache */\n  readonly store: Store<EntityCache>;\n\n  /**\n   * Create an {EntityAction} for this entity type.\n   * @param op {EntityOp} the entity operation\n   * @param [data] the action data\n   * @param [options] additional options\n   * @returns the EntityAction\n   */\n  createEntityAction<P = any>(\n    op: EntityOp,\n    data?: P,\n    options?: EntityActionOptions\n  ): EntityAction<P>;\n\n  /**\n   * Create an {EntityAction} for this entity type and\n   * dispatch it immediately to the store.\n   * @param op {EntityOp} the entity operation\n   * @param [data] the action data\n   * @param [options] additional options\n   * @returns the dispatched EntityAction\n   */\n  createAndDispatch<P = any>(\n    op: EntityOp,\n    data?: P,\n    options?: EntityActionOptions\n  ): EntityAction<P>;\n\n  /**\n   * Dispatch an Action to the store.\n   * @param action the Action\n   * @returns the dispatched Action\n   */\n  dispatch(action: Action): Action;\n\n  /**\n   * Convert an entity (or partial entity) into the `Update<T>` object\n   * `update...` and `upsert...` methods take `Update<T>` args\n   */\n  toUpdate(entity: Partial<T>): Update<T>;\n}\n\n/**\n * Persistence operation canceled\n */\nexport class PersistanceCanceled {\n  constructor(public readonly message?: string) {\n    this.message = message || 'Canceled by user';\n  }\n}\n"]}